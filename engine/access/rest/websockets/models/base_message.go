package models

const (
	SubscribeAction         = "subscribe"
	UnsubscribeAction       = "unsubscribe"
	ListSubscriptionsAction = "list_subscriptions"
)

// BaseMessageRequest represents a base structure for incoming messages.
type BaseMessageRequest struct {
	// SubscriptionID is UUID generated by either client or server to uniquely identify subscription.
	// It is empty for 'list_subscriptions' action
	SubscriptionID string `json:"subscription_id,omitempty"`
	Action         string `json:"action"` // Action is an action to perform (e.g. 'subscribe' to some data)
}

// BaseMessageResponse represents a base structure for outgoing messages.
type BaseMessageResponse struct {
	SubscriptionID string        `json:"subscription_id"` // SubscriptionID might be empty in case of error response
	Error          *ErrorMessage `json:"error,omitempty"` // Error might be empty in case of OK response
	Action         string        `json:"action"`
}

type ErrorMessage struct {
	Code    int    `json:"code"` // Code is an error code that categorizes an error
	Message string `json:"message"`
}
